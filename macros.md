
# Macros in Vim

ماکرو (Macro) در Vim یعنی ضبط کردن یک سری اعمال و اجرای دوباره آن‌ها به صورت خودکار.  
با استفاده از ماکروها می‌تونی کارهای تکراری رو خیلی سریع انجام بدی.

---

## 🎥 1. نحوه ضبط (Record) یک ماکرو

دستور کلی:
```
q{register}
```


### مراحل:

1. Normal Mode باش.
2. بزن:
```
q<char>
```

که `<char>` می‌تونه هر حرف a-z باشه.  
این یعنی شروع ضبط دستورات توی یک رجیستر مشخص.

مثلا:
- qa
یعنی ضبط در رجیستر `a`.

1. شروع کن به انجام کارهای مورد نظر (حرکت، تایپ، ویرایش و...).
2. وقتی تموم شد، بزن:
- q

تا ضبط متوقف بشه.

---

## ▶️ 2. اجرای ماکرو

دستور اجرا:
```
@{register}
```

مثلا:

- @a
این، ماکرو ذخیره‌شده در رجیستر `a` رو اجرا می‌کنه.

---

## 🔁 3. اجرای چندباره‌ی ماکرو

می‌تونی قبل از اجرای ماکرو تعداد دفعات تکرار رو هم مشخص کنی:

مثلا:
- 5@a
یعنی ماکرو `a` پنج بار اجرا بشه.

---

## 📚 4. کجا از ماکرو استفاده میشه؟

- اعمال تغییر مشابه روی چند خط
- پردازش فرمت‌بندی متن
- اضافه کردن الگو به چندین خط
- تغییر سریع ساختار کد
- تبدیل داده‌های متنی به فرمت دلخواه

---

## 💡 5. نکات حرفه‌ای درباره ماکروها

- می‌تونی یک ماکرو رو درون خودش صدا بزنی (با احتیاط!) برای تکرار نامحدود.
- می‌تونی ماکروها رو بین رجیسترهای مختلف کپی یا ویرایش کنی.
- با دستور `@@` می‌تونی آخرین ماکروی اجراشده رو مجدداً تکرار کنی (خیلی سریع!)

---

## ✏️ 6. دیدن یا ویرایش یک ماکرو

چون ماکروها داخل رجیسترها ذخیره میشن، می‌تونی محتوای ماکرو رو ببینی:

- بزن:
```
:reg a
```

محتوای رجیستر `a` رو نشون میده.

یا:
- بزن:
```
"ap
```

محتوای رجیستر `a` رو در محل فعلی paste کن.

اگر خواستی، حتی می‌تونی متن ماکرو رو ویرایش و دوباره ضبط کنی.

---

## 🔥 مثال کامل کار با ماکرو

فرض کن هر خط فایل متنی اینطوریه:
- John Doe Jane Smith Bob Johnson
و می‌خوای جلوی هر اسم عبارت `- user` اضافه کنی.

### مراحل:

1. برو اول فایل.
2. بزن:
```
qa
```
3. حالا این کارها رو بکن:
- برو انتهای خط با `$`
- تایپ کن: ` - user`
- برو خط بعد با `j`
4. ضبط رو ببند با:
```
q
```
5. حالا برای بقیه خطوط بزن:
```
@@ @@ @@
```

یا سریع‌تر:
```
2@a
```
(اگر فقط دو خط دیگه مونده.)

---

```
:help recording 
:help q 
:help register
```


[[commands]]
